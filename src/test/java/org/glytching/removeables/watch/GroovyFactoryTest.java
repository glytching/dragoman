package org.glytching.removeables.watch;

public class GroovyFactoryTest {

    //    @Test
    //    public void main() throws Exception {
    ////        String script = "public boolean filter(Object incoming) { return true; }";
    //        String script = "" +
    //                "public boolean filter(Object __doc) {\n" +
    //                "boolean isSame = __doc.a.b!=10;\n" +
    ////                "boolean isSame = __doc?.a?.b!=10 && __doc?.a?.b > -1 && __doc?.a?.b < 5 && !(__doc?.a?.b > 100 && __doc?.a?.b < 150) && __doc?.c > Date.parse(\"yyyy-MM-dd\", '2014-11-02') && __doc?.c < Date.parse(\"yyyy-MM-dd\", '2014-11-04')\n" +
    //                "return isSame;\n" +
    //                "}";
    //
    //        ClassBodyEvaluator classBodyEvaluator = new ClassBodyEvaluator();
    //        classBodyEvaluator.setImplementedInterfaces(new Class[]{Filter.class});
    //        classBodyEvaluator.setExtendedClass(PropertyWrapperForScripts.class);
    //        classBodyEvaluator.setParentClassLoader(ClassBodyEvaluator.class.getClassLoader());
    //
    //        StringReader sr = new StringReader(script);
    //        classBodyEvaluator.cook(null, sr);
    //        Class clazz = classBodyEvaluator.getClazz();
    //        Filter instance = (Filter) clazz.newInstance();
    //
    //        assertThat(instance.filter(""), is(true));
    //    }
}
